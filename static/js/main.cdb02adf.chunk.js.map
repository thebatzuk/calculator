{"version":3,"sources":["reportWebVitals.js","index.js","Calculator.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","Calculator","document","getElementById","Buttons","id","className","value","onClick","this","props","onClearClick","onDeleteClick","onOperationClick","onNumberClick","onPointClick","onEqualsClick","React","Component","showSocial","Social","href","target","rel","Display","Formula","formula","isOperator","endsWithOperator","state","evaluated","handleNumber","bind","handleClear","handleOperation","handleEquals","handlePoint","handleDelete","printStateToConsole","e","number","setState","test","operation","trimmedFormula","slice","expression","replace","answer","Math","round","eval","toString","includes","length","console","log"],"mappings":"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","file":"static/js/main.cdb02adf.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Calculator from './Calculator';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Calculator />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import './Calculator.css';\nimport React from 'react';\n\nclass Buttons extends React.Component {\n  render() {\n    return (\n      <div id=\"button-grid\">\n        <button\n          className=\"clear-button\"\n          id=\"clear\"\n          value=\"AC\"\n          onClick={this.props.onClearClick}\n        >\n          AC\n        </button>\n        <button\n          className=\"number-button\"\n          id=\"delete\"\n          value=\"delete\"\n          onClick={this.props.onDeleteClick}\n        >\n         โซ\n        </button>\n        <button\n          className=\"operation-button\"\n          id=\"divide\"\n          value=\"รท\"\n          onClick={this.props.onOperationClick}\n        >\n          รท\n        </button>\n        <button\n          className=\"number-button\"\n          id=\"seven\"\n          value=\"7\"\n          onClick={this.props.onNumberClick}\n        >\n          7\n        </button>\n        <button\n          className=\"number-button\"\n          id=\"eight\"\n          value=\"8\"\n          onClick={this.props.onNumberClick}\n        >\n          8\n        </button>\n        <button\n          className=\"number-button\"\n          id=\"nine\"\n          value=\"9\"\n          onClick={this.props.onNumberClick}\n        >\n          9\n        </button>\n        <button\n          className=\"operation-button\"\n          id=\"multiply\"\n          value=\"x\"\n          onClick={this.props.onOperationClick}\n        >\n          x\n        </button>\n        <button\n          className=\"number-button\"\n          id=\"four\"\n          value=\"4\"\n          onClick={this.props.onNumberClick}\n        >\n          4\n        </button>\n        <button\n          className=\"number-button\"\n          id=\"five\"\n          value=\"5\"\n          onClick={this.props.onNumberClick}\n        >\n          5\n        </button>\n        <button\n          className=\"number-button\"\n          id=\"six\"\n          value=\"6\"\n          onClick={this.props.onNumberClick}\n        >\n          6\n        </button>\n        <button\n          className=\"operation-button\"\n          id=\"subtract\"\n          value=\"-\"\n          onClick={this.props.onOperationClick}\n        >\n          -\n        </button>\n        <button\n          className=\"number-button\"\n          id=\"one\"\n          value=\"1\"\n          onClick={this.props.onNumberClick}\n        >\n          1\n        </button>\n        <button\n          className=\"number-button\"\n          id=\"two\"\n          value=\"2\"\n          onClick={this.props.onNumberClick}\n        >\n          2\n        </button>\n        <button\n          className=\"number-button\"\n          id=\"three\"\n          value=\"3\"\n          onClick={this.props.onNumberClick}\n        >\n          3\n        </button>\n        <button\n          className=\"operation-button\"\n          id=\"add\"\n          value=\"+\"\n          onClick={this.props.onOperationClick}\n        >\n          +\n        </button>\n        <button\n          className=\"number-button\"\n          id=\"zero\"\n          value=\"0\"\n          onClick={this.props.onNumberClick}\n        >\n          0\n        </button>\n        <button\n          className=\"number-button\"\n          id=\"decimal\"\n          value=\".\"\n          onClick={this.props.onPointClick}\n        >\n          .\n        </button>\n        <button\n          className=\"equals-button\"\n          id=\"equals\"\n          value=\"=\"\n          onClick={this.props.onEqualsClick}\n        >\n          =\n        </button>\n      </div>\n    );\n  }\n}\n\nconst showSocial = true;\nclass Social extends React.Component {\n  render() {\n    if(!showSocial) return (<div></div>);\n    return(\n        <div id=\"social-footer\">\n          <p>learning project by thebatzuk. </p>\n          <a href=\"https://twitter.com/thebatzuk\" target=\"_blank\" rel=\"noreferrer\">twitter</a>\n          <span> - </span>\n          <a href=\"https://github.com/thebatzuk\" target=\"_blank\" rel=\"noreferrer\">github</a>\n        </div>\n    );\n  }\n}\n\nclass Display extends React.Component {\n  render() {\n    return (\n      <div id=\"display\">\n        {this.props.value}\n      </div>\n    );\n  }\n}\n\nclass Formula extends React.Component {\n  render() {\n    return (\n      <div id=\"formula\">\n        {this.props.formula}\n      </div>\n    );\n  }\n}\n\n//REGEX\nconst isOperator = /[x+\\-รท]/;\nconst endsWithOperator = /[x+\\-รท]$/;\n\nclass Calculator extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: '0',\n      formula: '',\n      evaluated: false, \n    };\n\n    this.handleNumber = this.handleNumber.bind(this);\n    this.handleClear = this.handleClear.bind(this);\n    this.handleOperation = this.handleOperation.bind(this);\n    this.handleEquals = this.handleEquals.bind(this);\n    this.handlePoint = this.handlePoint.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n    this.printStateToConsole = this.printStateToConsole.bind(this);\n  }\n\n  handleNumber(e) {\n    const number = e.target.value;\n    const {evaluated, value, formula} = this.state;\n\n    if(evaluated) {\n      this.setState({\n        value: number,        \n        formula:\n          number === '0'\n          ? '' : number\n      });\n    } else {\n      this.setState({\n        value: \n          value === '0' || isOperator.test(value)\n          ? number : value + number,\n        \n        formula:\n          value === '0' && number === '0'\n          ? formula === ''\n            ? '' : formula\n          : formula + number \n      });\n    }\n\n    this.setState({evaluated: false});\n  }\n\n  handleOperation(e) {\n    const operation = e.target.value;\n    const {evaluated, value, formula} = this.state;\n\n    if(evaluated) {\n      this.setState({\n        value: operation, \n        formula: value + operation\n      });\n    } else if(endsWithOperator.test(formula)) {\n      if(operation === '-') {\n        this.setState({\n          value: operation, \n          formula: formula + operation\n        });\n      } else {\n        let trimmedFormula = formula;\n        while (endsWithOperator.test(trimmedFormula)) {\n          trimmedFormula = trimmedFormula.slice(0, -1);\n        }\n        this.setState({\n          value: operation, \n          formula: trimmedFormula + operation\n        });\n      }\n    } else {\n      this.setState({\n        value: operation, \n        formula: formula + operation\n      });\n    }\n\n    this.setState({evaluated: false});\n  }\n\n  handleEquals() {\n    let expression = this.state.formula;\n    const {evaluated} = this.state;\n    if(!evaluated) {\n      while (endsWithOperator.test(expression)) {\n        expression = expression.slice(0, -1);\n      }\n      expression = expression\n                      .replace(/x/g, '*')\n                      .replace(/รท/g, '/');\n      let answer = Math.round(1000000000000 * eval(expression)) / 1000000000000;\n\n      this.setState({\n        value: answer.toString(),\n        formula: expression\n                    .replace(/\\*/g, 'x')\n                    .replace(/\\//g, 'รท') + '=' + answer,\n        evaluated: true,\n      })\n    }\n  }\n\n  handlePoint() {\n    const {evaluated, value, formula} = this.state;\n\n    if(evaluated) {\n      this.setState({\n        value: '0.', \n        formula: '0.'\n      });\n    } else if(!value.includes('.')) {\n      this.setState({\n        value: \n          endsWithOperator.test(value)\n          ? '0.' : value + '.', \n        formula: \n          formula === '' || endsWithOperator.test(formula)\n          ? formula + '0.' : formula + '.'\n      });\n    }\n\n    this.setState({evaluated: false});\n  }\n\n  handleDelete() {\n    const {evaluated, value, formula} = this.state;\n\n    if(evaluated) {\n      this.setState({\n        value: value.length === 1\n                ? '0' : value.slice(0, -1), \n        formula: value.length === 1\n                  ? '0' : value.slice(0, -1)\n      });\n    } else {\n      this.setState({\n        value: value.length === 1\n                ? '0' : value.slice(0, -1), \n        formula: formula.length === 1\n                  ? '' \n                  : endsWithOperator.test(formula)\n                      ? formula\n                      : formula.slice(0, -1)\n      });\n    }\n\n    this.setState({evaluated: false});\n  }\n\n  handleClear() {\n    this.setState({\n      value: '0',\n      formula: '',\n      evaluated: false,\n    });\n  }\n\n  printStateToConsole() {\n    const {evaluated, value, formula} = this.state;\n    console.log({evaluated, value, formula});\n  }\n\n  render() {\n    //this.printStateToConsole();\n\n    return (\n      <div className=\"App\">\n        <div id=\"upper-section\">\n          <Formula \n            formula={this.state.formula}\n          />\n          <Display \n            value={this.state.value}\n          />\n        </div>\n        <Buttons \n          onNumberClick={this.handleNumber}\n          onClearClick={this.handleClear}\n          onOperationClick={this.handleOperation}\n          onEqualsClick={this.handleEquals}\n          onPointClick={this.handlePoint}\n          onDeleteClick={this.handleDelete}\n        />\n        <Social />\n      </div>\n    );\n  }\n}\n\nexport default Calculator;\n"],"sourceRoot":""}